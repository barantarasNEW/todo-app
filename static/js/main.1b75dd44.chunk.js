(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{41:function(e,t,c){},42:function(e,t,c){},43:function(e,t,c){},44:function(e,t,c){},49:function(e,t,c){"use strict";c.r(t);var n,o=c(32),r=c(17),a=(c(41),c(42),c(43),c(44),c(10)),l=c(7),i=c(5),s=c(2),u=c(0),d=c(3),j=function(e){var t=e.createNewTodo,c=Object(u.useState)(""),n=Object(i.a)(c,2),o=n[0],r=n[1],a=function(e){e.preventDefault(),o.length&&(t(o),r(""))};return Object(d.jsx)("form",{onSubmit:a,children:Object(d.jsx)("input",{type:"text","data-cy":"createTodo",className:"new-todo",placeholder:"What needs to be done?",value:o,onChange:function(e){return r(e.target.value)},onBlur:a})})},b=c(52),f=c(51),O=c(26),m=c.n(O),h=Object(u.createContext)(null),p=function(e){var t=e.todo,c=t.id,n=t.title,o=t.completed,r=e.todo,l=Object(u.useRef)(null),s=Object(u.useState)(n),j=Object(i.a)(s,2),b=j[0],f=j[1],O=Object(u.useState)(!1),p=Object(i.a)(O,2),x=p[0],v=p[1],g=Object(u.useContext)(h),C=g.updateTodo,N=g.removeTodo;Object(u.useEffect)((function(){var e;x&&(null===(e=l.current)||void 0===e||e.focus())}),[x]);var y=function(e){!b.length||e?f(n):C(Object(a.a)(Object(a.a)({},r),{},{title:b})),v(!1)};return Object(d.jsxs)("li",{className:m()({completed:o,editing:x}),children:[Object(d.jsxs)("div",{className:"view",children:[Object(d.jsx)("input",{type:"checkbox",className:"toggle",id:"toggle-view",checked:o,onChange:function(){C(Object(a.a)(Object(a.a)({},r),{},{completed:!o}))}}),Object(d.jsx)("label",{htmlFor:"toggle",onDoubleClick:function(){return v(!0)},children:b}),Object(d.jsx)("button",{type:"button",className:"destroy","data-cy":"deleteTodo","aria-label":"destroy",onClick:function(){return N(c)}})]}),x&&Object(d.jsx)("input",{ref:l,type:"text",className:"edit",value:b,onChange:function(e){f(e.target.value)},onKeyDown:function(e){"Escape"===e.key&&y(!0),"Enter"===e.key&&y()},onBlur:function(){return y()}})]})},x=function(e){var t=e.todos;return Object(d.jsx)("ul",{className:"todo-list","data-cy":"todosList",children:Object(d.jsx)(b.a,{children:t.map((function(e){return Object(d.jsx)(f.a,{timeout:300,classNames:"item",children:Object(d.jsx)(p,{todo:e})},e.id)}))})})};!function(e){e.ALL="/",e.COMPLETED="/completed",e.ACTIVE="/active"}(n||(n={}));var v=[{href:n.ALL,title:"All"},{href:n.ACTIVE,title:"Active"},{href:n.COMPLETED,title:"Completed"}],g=function(e){var t=e.isActive;return m()({selected:t})},C=function(){return Object(d.jsx)("ul",{className:"filters",children:v.map((function(e){var t=e.href,c=e.title;return Object(d.jsx)("li",{children:Object(d.jsx)(r.b,{to:t,className:g,children:c})},t)}))})},N=function(e){var t=e.activeTodos,c=e.completedTodos,n=e.removeAllCompleted;return Object(d.jsxs)("footer",{className:"footer",children:[Object(d.jsx)("span",{className:"todo-count","data-cy":"todosCounter",children:"".concat(t," ").concat(1===t?"item":"items"," left")}),Object(d.jsx)(C,{}),!!c&&Object(d.jsx)("button",{type:"button",className:"clear-completed",onClick:n,children:"Clear completed"})]})};function y(e,t){switch(t){case n.ACTIVE:return e.filter((function(e){return!e.completed}));case n.COMPLETED:return e.filter((function(e){return e.completed}));default:return e}}var T=function(){var e=function(e,t){var c=Object(u.useState)((function(){var c=localStorage.getItem(t);return c?JSON.parse(c):e})),n=Object(i.a)(c,2),o=n[0],r=n[1];return Object(u.useEffect)((function(){localStorage.setItem(t,JSON.stringify(o))}),[o,r]),[o,r]}([],"todos"),t=Object(i.a)(e,2),c=t[0],o=t[1],r=Object(s.i)().pathname,b=Object(u.useCallback)((function(e){var t={id:+new Date,title:e,completed:!1};o((function(e){return[].concat(Object(l.a)(e),[t])}))}),[]),f=Object(u.useCallback)((function(e){o((function(t){return t.map((function(t){return t.id===e.id?e:t}))}))}),[]),O=Object(u.useCallback)((function(e){o((function(t){return t.filter((function(t){return t.id!==e}))}))}),[]),m=Object(u.useMemo)((function(){return y(c,r)}),[c,r]),p=Object(u.useMemo)((function(){return y(c,n.ACTIVE)}),[c]),v=Object(u.useMemo)((function(){return y(c,n.COMPLETED)}),[c]),g=v.length===c.length,C=Object(u.useCallback)((function(){o((function(e){return e.map((function(e){return e.completed===!g?e:Object(a.a)(Object(a.a)({},e),{},{completed:!g})}))}))}),[g]),T=Object(u.useCallback)((function(){o((function(e){return e.filter((function(e){return!e.completed}))}))}),[]);return Object(d.jsxs)("div",{className:"todoapp",children:[Object(d.jsxs)("header",{className:"header",children:[Object(d.jsx)("h1",{children:"todos"}),Object(d.jsx)(j,{createNewTodo:b})]}),!!c.length&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("section",{className:"main",children:[Object(d.jsx)("label",{htmlFor:"toggle-all",children:Object(d.jsx)("input",{type:"checkbox",id:"toggle-all",className:"toggle-all","data-cy":"toggleAll",checked:g,onChange:C})}),Object(d.jsx)(h.Provider,{value:{updateTodo:f,removeTodo:O},children:Object(d.jsx)(x,{todos:m})})]}),Object(d.jsx)(N,{activeTodos:p.length,completedTodos:v.length,removeAllCompleted:T})]})]})};Object(o.createRoot)(document.getElementById("root")).render(Object(d.jsx)(r.a,{children:Object(d.jsx)(T,{})}))}},[[49,1,2]]]);
//# sourceMappingURL=main.1b75dd44.chunk.js.map